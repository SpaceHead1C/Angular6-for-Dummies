# Сервисы

Сервисы инкапсулируют логику, которая может использоваться несколькими компонентами.

![распространение логики](https://github.com/SpaceHead1C/Angular6-for-Dummies/blob/master/docs/src/services-share-logic.png)

### Сценарии использования сервисов

1. Реализация независимой от конкретных компонентов логики (вычисления, доступ к конфигурации, и т.д.)
2. Несколько компонентов используют одни данные/логику одновременно
3. Инкапсуляция логики (доступ к данным, сохранение данных)

![сценарии использования сервисов](https://github.com/SpaceHead1C/Angular6-for-Dummies/blob/master/docs/src/services-scenarios.png)

## Создание сервиса

1. Создать service class
2. Определить метаданные (декоратор *@Injectable*)
3. Импорт сервиса в компонент

Создание сервиса производится командой *@angular/cli*: `ng g s <name>` либо созданием файлов вручную.

Сервисы реализуются в отдельном файле, которые именуются `name.service.ts`, внутри экпортируемый класс `export class NameService { }`.

Далее требуется зарегистрировать сервис на уровне компонента/модуля в разделе *providers*. Компоненты в Angular являются Singleton – объект создаётся один раз и используется на протяжении жизни приложения. Таким образом поведение сервиса будет зависеть от того, где он зарегистрирован.

### Варианты подключения сервисов в компонент

1. Создание переменной с помощью конструктора

```typescript
let nameService = new NameService();
```

2. [Внедрение зависимостей](https://github.com/SpaceHead1C/Angular6-for-Dummies/blob/master/docs/dependency-injection.md) (более правильный)

```typescript
constructor(private nameService: NameService) { }
```

В этом подходе сервис помечается декоратором @Injectable(), после чего он импортируется и внедряется в компоненте через его конструктор.